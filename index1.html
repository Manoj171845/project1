<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Multiple Sort Algorithms</title>
  <style>
    #bar-container {
      display: flex;
      align-items: flex-end;
      height: 300px;
      margin-top: 20px;
    }
    .bar {
      width: 20px;
      margin: 0 2px;
      background-color: steelblue;
    }
    button {
      margin: 5px;
      padding: 10px;
    }
  </style>
</head>
<body>
  <h2>Sort Visualizer</h2>
  <div>
    <button onclick="generateBars()">Generate New Array</button>
    <button onclick="selectionSort()">Selection Sort</button>
    <button onclick="bubbleSort()">Bubble Sort</button>
    <button onclick="insertionSort()">Insertion Sort</button>
    
  </div>
  <div id="bar-container"></div>

  <script>
    const container = document.getElementById("bar-container");
    let bars = [];
    const numBars = 30;

    function generateBars() {
      container.innerHTML = "";
      bars = [];
      for (let i = 0; i < numBars; i++) {
        const value = Math.floor(Math.random() * 200) + 20;
        const bar = document.createElement("div");
        bar.classList.add("bar");
        bar.style.height = `${value}px`;
        bars.push({ value, element: bar });
        container.appendChild(bar);
      }
    }

    function swap(i, j) {
      let temp = bars[i];
      bars[i] = bars[j];
      bars[j] = temp;
      container.innerHTML = "";
      bars.forEach(b => container.appendChild(b.element));
    }

    async function selectionSort() {
      for (let i = 0; i < bars.length; i++) {
        let min = i;
        for (let j = i + 1; j < bars.length; j++) {
          if (bars[j].value < bars[min].value) {
            min = j;
          }
        }
        swap(i, min);
        await delay(50);
      }
    }

    async function bubbleSort() {
      for (let i = 0; i < bars.length - 1; i++) {
        for (let j = 0; j < bars.length - i - 1; j++) {
          if (bars[j].value > bars[j + 1].value) {
            swap(j, j + 1);
            await delay(30);
          }
        }
      }
    }

    async function insertionSort() {
      for (let i = 1; i < bars.length; i++) {
        let key = bars[i];
        let j = i - 1;
        while (j >= 0 && bars[j].value > key.value) {
          bars[j + 1] = bars[j];
          j--;
        }
        bars[j + 1] = key;
        container.innerHTML = "";
        bars.forEach(b => container.appendChild(b.element));
        await delay(50);
      }
    }

   

    function delay(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    generateBars(); // initial bars
  </script>
</body>
</html>
